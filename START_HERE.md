# 立即开始使用

## ✅ 问题已全部修复

1. ✅ 端口更改为 8000（避免 macOS 冲突）
2. ✅ CORS 配置优化
3. ✅ 会话ID自动恢复
4. ✅ UI 优化（移除emoji、现代化）
5. ✅ API 配置折叠
6. ✅ 加载动画完善
7. ✅ AI 修改建议功能

---

## 🚀 三步启动

### 步骤 1: 停止旧服务（如果正在运行）

```bash
pkill -f "python app.py"
pkill -f "react-scripts"
```

### 步骤 2: 启动应用

```bash
cd /Users/jerrywang/Code/Instruct4Edit/html-editor-app
./start.sh
```

### 步骤 3: 在浏览器中使用

浏览器会自动打开：`http://localhost:3000`

如未自动打开，手动访问该地址。

---

## 📝 使用流程

### 1. 上传 HTML 文件
   - 拖放文件到上传区
   - 或点击选择文件
   - 推荐测试文件：`../data/evaluate_samples/sample_1/original.html`

### 2. （可选）生成 AI 建议
   - 点击"生成修改建议"按钮
   - 等待 5-10 秒
   - 查看 5 条智能建议
   - 点击建议自动填入

### 3. 输入修改指令
   - 手动输入或使用建议
   - 例如："将背景色改为深色"

### 4. 执行修改
   - 点击"执行修改"或按 Ctrl+Enter
   - 观察右侧预览区的 Loading 动画
   - 等待 10-30 秒
   - 查看修改结果

### 5. 对比和管理
   - 左右对比原始和修改后的效果
   - 查看历史记录
   - 回退或下载任意版本

---

## 🎨 最新 UI 特性

### 严肃简洁风格
- 无 emoji，纯文本和 SVG 图标
- 现代扁平化设计
- 专业的颜色方案

### 折叠式 API 配置
- 默认折叠，节省空间
- 点击展开/收起
- 平滑动画过渡

### 智能 Loading
- 半透明黑色蒙版
- 三环旋转动画
- 清晰的状态提示

### AI 驱动建议
- 自动分析 HTML
- 生成个性化建议
- 一键应用

---

## 🔍 验证清单

打开应用后检查：

- [ ] 顶部标题：HTML 智能编辑器（无emoji）
- [ ] 状态指示器：带彩色圆点
- [ ] API 配置：默认折叠状态
- [ ] 上传区：SVG 文件图标
- [ ] 所有按钮：纯文字，无emoji

上传文件后：

- [ ] 左右分屏预览正常
- [ ] 文件名显示（带圆点）
- [ ] 可以生成建议

执行修改时：

- [ ] 右侧出现黑色蒙版
- [ ] 显示三环旋转动画
- [ ] 显示"AI 正在处理中..."

---

## 📡 端口信息

- **后端 API**: http://localhost:8000
- **前端应用**: http://localhost:3000

---

## ⚠️ 注意事项

### 首次启动
- 前端安装依赖可能需要几分钟
- 建议生成需要有效的 API 密钥

### 后端重启
- 会话数据会丢失
- 重新上传文件即可（自动恢复）

### API 密钥
- 确保至少配置一个有效密钥
- 查看 `.env` 文件
- 重点检查 `OPENROUTER_API_KEY` 或 `OPENAI_API_KEY`

---

## 🐛 遇到问题？

### 快速诊断

```bash
# 检查后端
curl http://localhost:8000/api/health

# 检查端口占用
lsof -i :8000
lsof -i :3000

# 查看日志
cat backend.log
cat frontend.log
```

### 常见解决方案

**问题 1**: 无法连接后端
- 确保后端已启动
- 检查端口 8000 是否被占用
- 查看 `backend.log`

**问题 2**: 上传失败
- 刷新页面重试
- 或直接重新上传（已自动恢复会话）

**问题 3**: 建议生成失败
- 检查 API 密钥配置
- 查看浏览器控制台
- 确认网络连接

---

## 📚 完整文档

- `README.md` - 完整使用手册
- `FRONTEND_UPDATES.md` - 最新更新说明
- `TEST_GUIDE.md` - 详细测试指南

---

**现在就开始使用吧！** 🎉

```bash
./start.sh
```

